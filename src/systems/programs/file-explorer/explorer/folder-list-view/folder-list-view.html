
<table class="folder-list-table" role="grid" aria-label="æ–‡ä»¶åˆ—è¡¨">
    <thead>
    <tr>
        <th scope="col" style="width: 40%;">åç§°</th>
        <th scope="col" style="width: 20%;">ä¿®æ”¹æ—¥æœŸ</th>
        <th scope="col" style="width: 20%;">ç±»å‹</th>
        <th scope="col" style="width: 20%; text-align: right;">å¤§å°</th>
    </tr>
    </thead>
    <tbody>
        @for (file of files; track file.path) {
            <tr role="row" tabindex="0" class="folder-list-row"
                (dblclick)="fileDbl(file)"
                (contextmenu)="onRightClick($event, file)">
                <td role="gridcell" class="file-name">
                    @if (file.isDirectory) {
                        ğŸ“ {{ file.name }}
                    } @else {
                        ğŸ“„ {{ file.name }}
                    }
                </td>
                <td role="gridcell" class="file-modified">
                    {{ file.lastModified | date:'yyyy-MM-dd HH:mm' }}
                </td>
                <td role="gridcell" class="file-type">
                    {{ getFileType(file) }}
                </td>
                <td role="gridcell" class="file-size" style="text-align: right;">
                    @if (file.isDirectory) {
                        <!-- æ–‡ä»¶å¤¹å¤§å°é€šå¸¸ä¸æ˜¾ç¤º -->
                            --
                    } @else {
                        {{ formatSize(file.size) }}
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

@if(contextMenuVisible){
    <ul
        class="context-menu"
        [style.top.px]="contextMenuPosition.y"
        [style.left.px]="contextMenuPosition.x"
        (click)="$event.stopPropagation()">
        <li (click)="onContextMenuAction('openCode', contextMenuFile)">é€šè¿‡codeæ‰“å¼€</li>
        <li (click)="onContextMenuAction('properties', contextMenuFile)">å±æ€§</li>
        <li (click)="onContextMenuAction('copyPath', contextMenuFile)">å¤åˆ¶æ–‡ä»¶åœ°å€</li>
    </ul>
}
